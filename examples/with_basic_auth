#! /usr/bin/env coffee

{Client} = require '../lib/dinkum'
parallel = require 'when/parallel'

c = Client.create

    hostname: 'localhost'
    allowUncertified: true
    port:      3000
    
    authenticator: 
        module:   'basic_auth_session'
        username: 'nomilous'
        password: 'âˆ†'

parallel([

    -> c.get path: '/requires/authentication/1' 
    -> c.get path: '/requires/authentication/2' 
    -> c.get path: '/requires/authentication/3' 


]).then(

    (result) -> console.log RESULT: result
    (error)  -> console.log ERROR:  error

)
