// Generated by CoffeeScript 1.6.3
var HttpRequest, deferred, testable;

deferred = require('../support').deferred;

HttpRequest = require('./http_request');

testable = void 0;

exports._authenticator = function() {
  return testable;
};

exports.Authenticator = function(config, queue) {
  var api, authenticator;
  authenticator = {
    queue: queue,
    authenticating: false,
    authenticate: deferred(function(action) {
      authenticator.authenticating = true;
      return action.resolve(new HttpRequest);
    })
  };
  testable = authenticator;
  return api = {
    authenticate: authenticator.authenticate
  };
};
